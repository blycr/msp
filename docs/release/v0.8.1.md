# v0.8.1

## 核心修复 (Core Fixes)

- **数据库健壮性优化 (Database Robustness)**:
  - 修复了在媒体扫描过程中由于路径索引不一致导致的 `UNIQUE constraint failed: media_items.id` 错误。
  - 将 `UpsertMediaItem` 的冲突检测目标从路径 (`path`) 迁移至主键 (`id`)，确保在各种文件系统环境下媒体入库的绝对可靠性。

## 改进 (Improvements)

- 优化了媒体入库逻辑，在遇到 ID 已存在的情况时，现在会更可靠地执行更新（Update）操作而非尝试错误的插入（Insert）。
- 提升了对不同文件系统路径规范化差异的容忍度。

## 升级指南 (Upgrade Guide)

1. **替换二进制文件**: 直接覆盖旧版本可执行文件即可。
2. **无需迁移**: 本次更新不涉及数据库表结构变更，仅为逻辑层面的健壮性优化。

---

**完整更新日志**: [CHANGELOG.md](../../CHANGELOG.md)
